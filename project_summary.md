# perpetuity 프로젝트 전체 대화 및 작업 정리 보고서

본 문서는 **perpetuity** (Instagram용 무한 캔버스 이미지 제작 도구) 프로젝트의 시작부터 현재까지의 모든 대화와 작업 내용을 종합적으로 정리한 기록입니다.

## 1. 프로젝트 개요
- **목표**: 인스타그램 게시물을 위한 가로로 확장 가능한 무한 캔버스 제작 도구 구축.
- **핵심 기술**: HTML5, CSS3 (Glassmorphism), JavaScript, Fabric.js, EXIF.js.

## 2. 주요 작업 단계 및 마일스톤

### 1단계: 초기 기반 구축 및 UI 디자인
- 프로젝트 구조 설정 (`index.html`, `style.css`, `main.js`).
- Fabric.js를 이용한 캔버스 엔진 초기화.
- **Wanted Sans** 폰트 및 모던한 다크/라이트 테마 시스템 구축.
- 글래스모피즘 기반의 사이드바 설정 패널 구현.

### 2단계: 핵심 기능 구현
- **이미지 업로드 및 정렬**: EXIF 데이터를 활용한 촬영 시간순 자동 정렬 로직 구현.
- **동적 캔버스**: 이미지 추가 시 가로로 자동 확장되는 캔버스 시스템.
- **이미지 제어**: 개별 리사이징(비율 유지), 드래그 앤 드롭, 위치 교체(Swap Mode) 기능.
- **글로벌 설정**: 전체 이미지의 Border Radius, Border Color, Thickness 일괄 조절 기능.
- **Spider Web**: 이미지 중심을 연결하는 동적 선(Line) 시스템 구현.

### 3단계: 성능 최적화 및 UX 개선
- **이미지 최적화**: 업로드 시 브라우저 단에서 리사이징 및 압축을 수행하여 성능 확보.
- **줌(Zoom) 시스템**: 캔버스 프리뷰 확대/축소 기능 및 컨트롤 UI 개선.
- **휠 스크롤**: 캔버스 영역에서 마우스 휠을 이용한 가로 스크롤 구현.
- **수치 표시**: 슬라이더 조작 시 현재 값을 실시간으로 보여주는 배지(Badge) 시스템 추가.

### 4단계: 내보내기(Export) 및 슬라이싱
- 인스타그램 비율(1:1, 4:5 등)에 맞춘 자동 슬라이싱 로직 구현.
- 슬라이스된 이미지들을 순차적으로 다운로드하는 기능 추가.

### 5단계: 버그 수정 및 최종 고도화
- **런타임 에러 해결**: HTML 구조 변경으로 발생했던 자바스크립트 참조 오류(`null` 에러) 수정.
- **레이아웃 복구**: CSS 수정 중 발생한 코드 누락 사고를 수습하고, 사용자의 복구 상태를 기반으로 고도화 스타일 안전 통합.
- **로고 업데이트**: 헤더 로고 옆에 'upd 2' 업데이트 배지 추가.

## 3. 주요 기술적 결정 사항
- **Fabric.js 캐싱**: 성능 향상을 위해 `objectCaching` 활성화.
- **좌표 제약**: 이미지가 캔버스 상단/하단을 3% 이상 벗어나지 않도록 하는 제약 로직 적용.
- **무삭제 원칙**: 최종 단계에서 CSS 수정 시 기존 코드를 보존하며 필요한 스타일만 삽입하는 방식 채택.

## 4. 최종 상태
- 모든 핵심 기능 및 고도화 요청 사항 구현 완료.
- 자바스크립트 콘솔 에러 없음.
- 모바일 및 데스크탑 반응형 대응 완료.

---
**작성일**: 2025년 12월 29일
**상태**: 프로젝트 완료 및 정리 완료
